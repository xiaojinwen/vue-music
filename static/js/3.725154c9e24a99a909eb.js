webpackJsonp([3],{KYpP:function(t,e){},"Sgn/":function(t,e,n){"use strict";e.b=function(){var t=s()({},o.b,{channel:"singer",page:"list",key:"all_all_all",pagesize:100,pagenum:1,hostUin:0,notice:0,platform:"yqq",needNewCode:0});return Object(a.a)("https://c.y.qq.com/v8/fcg-bin/v8.fcg",t,o.c)},e.a=function(t,e,n){var i=s()({},o.b,{singermid:t,num:e,begin:n,uin:0,format:"json",notice:0,platform:"h5page",needNewCode:1,order:"listen",from:"h5",_:1522481816638});return Object(a.a)("https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",i,o.c)};var i=n("aA9S"),s=n.n(i),a=n("Gak4"),o=n("T452")},lEJ1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4YfN"),s=n.n(i),a=n("9rMa"),o=n("Sgn/"),r=n("T452"),c=n("PvFA"),g={components:{MusicList:n("kvay").a},name:"singer-detail",data:function(){return{songs:[],hasMore:!0,loaded:!0,begin:0}},computed:s()({title:function(){return this.singer.name},bgImage:function(){return this.singer.avatar},loadingMore:function(){return!!this.songs.length&&this.hasMore}},Object(a.c)(["singer"])),created:function(){this._getDetail()},methods:{getSingerMore:function(){var t=this;this.hasMore&&this.loaded&&(this.loaded=!1,this.begin+=20,Object(o.a)(this.singer.id,20,this.begin).then(function(e){e.code===r.a&&(t.songs=t.songs.concat(t._normalizeSongs(e.data.list)),t._checkMore(e.data),t.loaded=!0)}))},_checkMore:function(t){!t.list.length||20+this.begin>=t.total?this.hasMore=!1:this.hasMore=!0},_getDetail:function(){var t=this;this.singer.id?(this.hasMore=!0,this.begin=0,Object(o.a)(this.singer.id,20,this.begin).then(function(e){e.code===r.a&&(t.songs=t._normalizeSongs(e.data.list),t._checkMore(e.data))})):this.$router.push("/singer")},_normalizeSongs:function(t){var e=[];return t.forEach(function(t){var n=t.musicData;n.songid&&n.albummid&&e.push(Object(c.a)(n,null))}),e}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"slide"}},[e("music-list",{attrs:{songs:this.songs,title:this.title,"bg-image":this.bgImage,loadingMore:this.loadingMore},on:{getSingerMore:this.getSingerMore}})],1)},staticRenderFns:[]};var l=n("Z0/y")(g,h,!1,function(t){n("KYpP")},null,null);e.default=l.exports}});
//# sourceMappingURL=3.725154c9e24a99a909eb.js.map